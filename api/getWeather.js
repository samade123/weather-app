export default function handler(e,a){a.setHeader("Cache-Control","max-age=0, s-maxage=86400");const{lat:o,long:t,name:n}=e.query;console.log(o,t,n);var s=require("axios"),r=process.env.WEATHER_API_KEY,c={method:"get",url:`http://api.weatherapi.com/v1/forecast.json?key=${r}&q=51.3934149,0.1216487&days=7&aqi=no&alerts=no`,headers:{}};o&&(c.url=`http://api.weatherapi.com/v1/forecast.json?key=${r}&q=${o},${t}&days=7&aqi=no&alerts=no`),"false"==o&&(c.url=`http://api.weatherapi.com/v1/forecast.json?key=${r}&q=${n}&days=7&aqi=no&alerts=no`),console.log(c),s(c).then((function(e){a.status(200).json(e.data)})).catch((function(e){console.error(e)}))}